<h1 id="tableLabel">List of Reservations ({{viewTitle}} View)</h1>

<button class='btn btn-primary' (click)='getReservations()'>Get Reservations</button>

<!--
<div class='row'>
  <div class='col-md-2'>Filter by:</div>
  <div class='col-md-4'>
    <input type='text'
           [(ngModel)]='listFilter' />
  </div>
</div>


<div class='row'>
  <div class='col-md-6'>
    <h4>Filtered by: {{listFilter}}</h4>
  </div>
</div>
-->

<table class='table table-hover' aria-labelledby="tableLabel">
  <thead>
    <tr>
      <th>
        <button class='btn btn-sm btn-dark rounded-pill text-nowrap'
                (click)='toggleImage()'>
          {{ displayImage ? 'Hide' : 'Show' }} Image
        </button>
      </th>
      <th>House</th>
      <th>Date Created</th>
      <th>Check In Date</th>
      <th>Check Out Date</th>
      <th>Total Price</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor='let reservation of filteredReservations'>
      <td><img [src]='reservation.House?.HouseImageUrl' *ngIf="displayImage" class="rounded-circle"/></td>
      <td>{{ reservation.House?.Title }}</td>
      <td>{{ reservation.DateCreated | date: 'dd-MM-yyyy' }}</td>
      <td>{{ reservation.CheckInDate | date: 'dd-MM-yyyy' }}</td>
      <td>{{ reservation.CheckOutDate | date: 'dd-MM-yyyy' }}</td>
      <td width="120">{{ reservation.TotalPrice | convertToCurrency: 'kr' }}</td>
      <td id="actions">
        <a class="btn btn-sm btn-secondary rounded-pill w-100 my-1" [routerLink]="['/reservationform', 'edit', reservation.ReservationId]">Update</a>
        <a class="btn btn-sm btn-danger rounded-pill w-100 my-1" (click)="deleteReservation(reservation)">Delete</a>
      </td>
    </tr>
  </tbody>
</table>

<button class='btn btn-primary rounded-pill' [routerLink]="['/reservationform', 'create', -1]">Create New Reservation</button>
<button class='btn btn-secondary rounded-pill' routerLink="/reservationform">Create New Reservation</button>
